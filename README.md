طراحی دیتابیس برای سامانه سلف دانشگاه
این دیتابیس برای مدیریت سامانه سلف دانشگاه طراحی شده است. کاربران سامانه می‌توانند از منوی روزانه غذاها سفارش دهند. سیستم دو نوع کاربر دارد: دانشجویان و اساتید و فرد میتونه هر دو هم باشد. همچنین، امکان ثبت سفارش غذا و مدیریت اطلاعات مربوط به کاربران و غذاها فراهم شده است.

ساختار دیتابیس
1. جدول users:
این جدول شامل اطلاعات پایه کاربران است (اعم از دانشجویان و اساتید یا هر دو). هر رکورد در این جدول شامل موارد زیر است:

user_id: شناسه منحصر به فرد کاربر.

name: نام کاربر.

national_id: کد ملی کاربر.

user_type: نوع کاربر که می‌تواند یکی از مقادیر student (دانشجو)، teacher (استاد) یا both (هر دو) باشد.

2. جدول students:
این جدول اطلاعات ویژه دانشجویان را ذخیره می‌کند:

student_id: شناسه دانشجویی منحصر به فرد.

user_id: ارجاع به کاربر در جدول users.

major: رشته تحصیلی دانشجو.

3. جدول teachers:
این جدول اطلاعات ویژه اساتید را ذخیره می‌کند:

teacher_id: شناسه استاد منحصر به فرد.

user_id: ارجاع به کاربر در جدول users.

personnel_code: شماره پرسنلی استاد.

department: دپارتمان (مثلاً علوم کامپیوتر).

teacher_position: مرتبه علمی استاد.

4. جدول menus:
این جدول اطلاعات منوی غذایی روزانه را ذخیره می‌کند:

menu_id: شناسه منو.

food: نام غذا.

price: قیمت غذا به تومان.

date: تاریخ ارائه غذا.

5. جدول orders:
این جدول شامل اطلاعات سفارشات کاربران است:

order_id: شناسه سفارش.

user_id: ارجاع به کاربر در جدول users.

order_date: تاریخ سفارش.

6. جدول order_items:
این جدول جزئیات غذاهای سفارش داده شده را ذخیره می‌کند:

order_item_id: شناسه منحصر به فرد برای هر آیتم غذا.

order_id: ارجاع به سفارش در جدول orders.

menu_id: ارجاع به غذا در جدول menus.

fooتعداد غذاهای سفارش داده شده.

روابط بین جداول
جدول users اطلاعات کلی کاربران را ذخیره می‌کند، و هر کاربر می‌تواند همزمان به عنوان دانشجو یا استاد در سیستم ثبت شود.

جداول students و teachers اطلاعات ویژه به هر یک از این گروه‌ها را ذخیره می‌کنند. هر کدام از این جداول به جدول users از طریق کلید خارجی (user_id) مرتبط هستند.

جدول menus منوهای غذایی روزانه را ذخیره می‌کند.

جدول orders اطلاعات مربوط به سفارشات کاربران را ذخیره می‌کند و به جدول users از طریق کلید خارجی (user_id) ارجاع دارد.

جدولorder_details جزئیات هر غذا (غذا، تعداد و قیمت) که در هر سفارش ثبت شده است را ذخیره می‌کند. این جدول به جدول‌های orders و menus از طریق کلید خارجی وصل شده است.

نحوه استفاده از دیتابیس
1. ایجاد جداول:
برای ایجاد جداول، ابتدا فایل create-tables.sql را اجرا کنید. این فایل تمام جداول لازم را برای سیستم شما ایجاد خواهد کرد.

2. وارد کردن داده‌های آزمایشی:
برای وارد کردن داده‌های نمونه و آزمایشی به جداول، از فایل insert-data.sql استفاده کنید. این فایل شامل چندین رکورد نمونه برای کاربران، دانشجویان، اساتید، منوها، سفارشات و جزئیات سفارشات است که در این پروژه چندین سطر برای مثال داده شده است.

3. حذف جداول:
در صورتی که بخواهید تمام جداول را حذف کنید (مثلاً برای بازنشانی دیتابیس)، می‌توانید از فایل drop-tables.sql استفاده کنید.

ویژگی‌ها و رفتارهای خاص دیتابیس
کلیدهای خارجی:

در جداول مختلف از کلید خارجی (Foreign Key) استفاده شده است تا ارتباطات میان جداول برقرار شود. این کلیدهای خارجی تضمین می‌کنند که داده‌ها به‌درستی و بدون تداخل وارد سیستم شوند.

حذف رکوردها:


نرمال‌سازی دیتابیس:

این دیتابیس تا سطح سوم نرمال‌سازی (3NF) طراحی شده است، به این معنی که سعی شده است از افزونگی داده‌ها جلوگیری شود و داده‌ها به‌صورت بهینه ذخیره شوند.

ساختار فایل‌ها
create-tables.sql: فایل SQL برای ایجاد جداول.

insert-data.sql: فایل SQL برای وارد کردن داده‌های نمونه به جداول.

drop-tables.sql: فایل SQL برای حذف جداول و بازنشانی دیتابیس.

